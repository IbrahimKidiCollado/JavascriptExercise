<!DOCTYPE html>
<html lang="es">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Ejercicio 4 - Ventana Principal</title>
</head>

<body>
	<h2>Ventana Principal</h2>
	<input type="button" value="Abrir ventana secundaria" onclick="abrirVentana()"><br><br>

	<input type="text" id="mensajePrincipal" placeholder="Escribe algo para la secundaria">
	<input type="button" value="Enviar a secundaria" onclick="enviarMensaje()">

	<h3>Mensajes recibidos:</h3>
	<div id="mensajes"></div>

	<script>
		let ventanaSecundaria;

		function abrirVentana() {
			ventanaSecundaria = window.open('ejercicio4-ventana.html', 'ventanaSecundaria', 'width=400,height=400');
		}

		function enviarMensaje() {
			const mensaje = document.getElementById('mensajePrincipal').value;
			if (ventanaSecundaria && !ventanaSecundaria.closed) {
				ventanaSecundaria.recibirMensaje(mensaje); // enviar a secundaria
			}
			document.getElementById('mensajePrincipal').value = '';
		}

		function recibirMensaje(mensaje) {
			const div = document.getElementById('mensajes');
			div.innerHTML += `<p>${mensaje}</p>`;
		}
	</script>
</body>

</html>